- name: enable Firewall
  become: true
  ufw:
    state: enabled

- name: allow http from outside
  become: true
  ufw:
    to_port: '80'
    proto: tcp
    rule: allow

- name: allow https from outside
  become: true
  ufw:
    to_port: '443'
    proto: tcp
    rule: allow

- name: enable MLflow interface and api
  become: true
  ufw:
    to_port: '5000'
    proto: tcp
    role: allow

- name: enable SSH connection
  become: true
  ufw:
    to_port: '22'
    role: allow